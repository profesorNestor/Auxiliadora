<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal Educativo MarÃ­a Auxiliadora - Cartago Valle</title>
    <link rel="icon" type="image/png" href="images/favicon.ico">
    <!-- Enlace al archivo CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- ================================================ -->
        <!-- HEADER: Logo y tÃ­tulo institucional -->
        <!-- ================================================ -->
        <header class="header">
            <div class="logo-section">
                <div class="logo-container" id="logoContainer">
                    <img src="images/escudo-large.png" alt="Escudo MarÃ­a Auxiliadora" id="logoImage" onerror="setTimeout(function(){if(window.showFallbackLogo)window.showFallbackLogo()}, 100)">
                    <div class="logo-placeholder" id="logoFallback">MA</div>
                </div>
                <div>
                    <h1 class="title">InstituciÃ³n Educativa MarÃ­a Auxiliadora</h1>
                    <p class="subtitle">Cartago, Valle del Cauca</p>
                    <p class="motto">VIRTUD - CIENCIA</p>
                </div>
            </div>
        </header>

        <!-- ================================================ -->
        <!-- SECCIÃ“N DE LOGIN: Formulario de acceso -->
        <!-- ================================================ -->
        <div class="login-section" id="loginSection">
            <h2 class="section-title">ğŸ” Acceso al Portal Educativo</h2>
            <form class="login-form" id="loginForm">
                <div class="form-group">
                    <label for="userType">ğŸ‘¤ Tipo de Usuario:</label>
                    <select id="userType" required>
                        <option value="">Seleccionar tipo de usuario...</option>
                        <option value="educador">ğŸ‘¨â€ğŸ« Educador (Docentes, Coordinadores, Rector)</option>
                        <option value="administrador">âš™ï¸ Administrador del Sistema</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="password">ğŸ”‘ ContraseÃ±a:</label>
                    <input type="password" id="password" required placeholder="Ingrese su contraseÃ±a">
                </div>
                <div class="form-group">
                    <button type="submit" class="login-btn">ğŸš€ Ingresar al Portal</button>
                </div>
            </form>
            
            <!-- Ayuda de credenciales -->
            <div class="login-help">
                <h4>ğŸ’¡ Credenciales de Acceso</h4>
                <p><strong>Educadores:</strong> educador2024</p>
                <p><strong>Administrador:</strong> admin2024</p>
                <p style="font-size: 0.9rem; margin-top: 10px; opacity: 0.7;">
                    * En un entorno real, cada usuario tendrÃ­a credenciales Ãºnicas
                </p>
            </div>
        </div>

        <!-- ================================================ -->
        <!-- SECCIÃ“N PRINCIPAL: Portal completo (oculto inicialmente) -->
        <!-- ================================================ -->
        <main class="main-content" id="mainContent">
            <!-- Barra de informaciÃ³n del usuario -->
            <div class="user-info" id="userInfo">
                <div>
                    <span id="welcomeMessage"></span>
                    <div style="font-size: 0.9rem; opacity: 0.9; margin-top: 5px;" id="userDetails"></div>
                </div>
                <div>
                    <button class="logout-btn" onclick="logout()">ğŸšª Cerrar SesiÃ³n</button>
                    <button onclick="getSystemStatistics()" class="action-btn action-btn-blue">ğŸ“Š EstadÃ­sticas</button>
                    <button onclick="generateSystemReport()" class="action-btn action-btn-green">ğŸ“‹ Reporte</button>
                </div>
            </div>

            <!-- ================================================ -->
            <!-- CONFIGURACIÃ“N DE IA -->
            <!-- ================================================ -->
            <div class="api-config">
                <h3>ğŸ¤– ConfiguraciÃ³n de IA</h3>
                <p class="api-description">
                    Configure su API Key para activar el asistente educativo inteligente
                </p>
                <div class="api-form">
                    <label for="apiProvider">Proveedor de IA:</label>
                    <select id="apiProvider" class="api-input" onchange="saveConfiguration()">
                        <option value="mistral">âš¡ Mistral AI</option>
                        <option value="openai">ğŸ§  OpenAI (ChatGPT)</option>
                        <option value="google">ğŸ”® Google (Gemini)</option>
                    </select>
                    
                    <label for="apiKey">API Key:</label>
                    <input type="password" id="apiKey" class="api-input" placeholder="Ingrese su API Key aquÃ­..." onchange="saveConfiguration()">
                    
                    <label>Acciones:</label>
                    <div class="api-actions">
                        <button onclick="saveConfiguration()" class="config-btn config-btn-save">ğŸ’¾ Guardar</button>
                        <button onclick="exportConfiguration()" class="config-btn config-btn-export">ğŸ“¥ Exportar</button>
                        <button onclick="importConfiguration()" class="config-btn config-btn-import">ğŸ“‚ Importar</button>
                        <button onclick="resetConfiguration()" class="config-btn config-btn-reset">ğŸ”„ Restablecer</button>
                    </div>
                </div>
            </div>

            <!-- ================================================ -->
            <!-- RECURSOS INSTITUCIONALES -->
            <!-- ================================================ -->
            <section class="resources-section">
                <h2 class="section-title">ğŸ“š Recursos Institucionales</h2>
                <p class="resources-description">
                    Seleccione los recursos sobre los cuales desea realizar consultas especÃ­ficas (opcional)
                </p>
                <div class="resources-grid" id="resourcesGrid">
                    <div class="resource-card" data-resource="manual">
                        <h3>ğŸ“‹ Manual de Convivencia</h3>
                        <p>Normativas, derechos, deberes y procedimientos disciplinarios</p>
                    </div>
                    <div class="resource-card" data-resource="pei">
                        <h3>ğŸ¯ Proyecto Educativo Institucional</h3>
                        <p>MisiÃ³n, visiÃ³n, filosofÃ­a y lineamientos pedagÃ³gicos</p>
                    </div>
                    <div class="resource-card" data-resource="calendario">
                        <h3>ğŸ“… Calendario Escolar</h3>
                        <p>Cronograma acadÃ©mico, festividades y evaluaciones</p>
                    </div>
                    <div class="resource-card" data-resource="legislacion">
                        <h3>âš–ï¸ LegislaciÃ³n Educativa</h3>
                        <p>Normativas MEN, decretos y resoluciones vigentes</p>
                    </div>
                    <div class="resource-card" data-resource="planes">
                        <h3>ğŸ“Š Planes de Estudio</h3>
                        <p>CurrÃ­culos, competencias y metodologÃ­as por Ã¡rea</p>
                    </div>
                    <div class="resource-card" data-resource="procedimientos">
                        <h3>ğŸ”„ Procedimientos</h3>
                        <p>Procesos administrativos, acadÃ©micos y de bienestar</p>
                    </div>
                </div>
            </section>

            <!-- ================================================ -->
            <!-- INTERFAZ DE CHAT CON IA -->
            <!-- ================================================ -->
            <section class="chat-section">
                <h2 class="section-title">ğŸ¤– Consultor Educativo IA</h2>
                <div class="chat-interface">
                    <!-- Header del chat con estado de conexiÃ³n -->
                    <div class="chat-header">
                        <span class="status-indicator" id="statusIndicator"></span>
                        <span id="chatStatus">Configurando sistema...</span>
                    </div>
                    
                    <!-- Ãrea de mensajes -->
                    <div class="chat-messages" id="chatMessages">
                        <div class="message assistant">
                            <strong>ğŸ¤– Asistente IA:</strong> Â¡Bienvenido al Portal Educativo de la InstituciÃ³n MarÃ­a Auxiliadora! 
                            <br><br>
                            Soy su consultor educativo inteligente. Puedo ayudarle con:
                            <br>
                            â€¢ ğŸ“‹ Consultas sobre el Manual de Convivencia
                            <br>
                            â€¢ ğŸ¯ InformaciÃ³n del PEI y filosofÃ­a institucional
                            <br>
                            â€¢ ğŸ“… Fechas y eventos del calendario escolar
                            <br>
                            â€¢ âš–ï¸ Normativas y legislaciÃ³n educativa
                            <br>
                            â€¢ ğŸ“Š Planes de estudio y metodologÃ­as
                            <br>
                            â€¢ ğŸ”„ Procedimientos administrativos
                            <br>
                            â€¢ ğŸ’¬ Consultas generales sobre educaciÃ³n
                            <br><br>
                            <strong>Para comenzar:</strong>
                            <br>
                            1ï¸âƒ£ Configure su API Key arriba
                            <br>
                            2ï¸âƒ£ Realice su consulta (puede seleccionar recursos especÃ­ficos o hacer preguntas generales)
                        </div>
                    </div>
                    
                    <!-- Ãrea de entrada de texto -->
                    <div class="chat-input-area">
                        <div class="input-container">
                            <textarea 
                                id="chatInput" 
                                class="chat-input" 
                                placeholder="Escriba su consulta sobre los recursos institucionales o cualquier tema educativo..."
                                rows="2"
                            ></textarea>
                            <button id="sendBtn" class="send-btn" onclick="sendMessage()">
                                ğŸ“¤ Enviar
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- ================================================ -->
    <!-- ENLACE AL ARCHIVO JAVASCRIPT -->
    <!-- ================================================ -->
    <script src="script.js"></script>
</body>
</html>